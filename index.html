# sa.xss2
# SA.XSS
XSSã‚’ã‚ã–ã¨ä»˜ã‘åŠ ãˆãŸã‚µã‚¤ãƒˆ
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XSSè„†å¼±æ€§ã®ã‚ã‚‹ã‚µã‚¤ãƒˆ - ç·´ç¿’ç”¨</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ”“ è„†å¼±æ€§ã®ã‚ã‚‹æ¤œç´¢ã‚µã‚¤ãƒˆ</h1>
        <p class="warning">âš  ã“ã®ãƒšãƒ¼ã‚¸ã«ã¯æ„å›³çš„ã«XSSè„†å¼±æ€§ãŒã‚ã‚Šã¾ã™</p>
        
        <div class="search-section">
            <h2>æ¤œç´¢æ©Ÿèƒ½</h2>
            <form method="GET">
                <input type="text" name="query" placeholder="æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰" value="">
                <button type="submit">æ¤œç´¢</button>
            </form>
            
            <!-- è„†å¼±æ€§1: innerHTMLã‚’ä½¿ç”¨ -->
            <div id="search-results">
                <h3>æ¤œç´¢çµæœ:</h3>
                <div id="results"></div>
            </div>
        </div>

        <div class="user-section">
            <h2>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h2>
            <form id="profile-form">
                <input type="text" id="username" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼å">
                <input type="text" id="bio" placeholder="è‡ªå·±ç´¹ä»‹">
                <button type="button" onclick="updateProfile()">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ›´æ–°</button>
            </form>
            
            <!-- è„†å¼±æ€§2: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ãã®ã¾ã¾è¡¨ç¤º -->
            <div id="profile-display"></div>
        </div>

        <div class="comment-section">
            <h2>ã‚³ãƒ¡ãƒ³ãƒˆæ¬„</h2>
            <form id="comment-form">
                <textarea id="comment" placeholder="ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›..."></textarea>
                <button type="button" onclick="addComment()">ã‚³ãƒ¡ãƒ³ãƒˆæŠ•ç¨¿</button>
            </form>
            
            <!-- è„†å¼±æ€§3: å‹•çš„ã«è¦ç´ ã‚’è¿½åŠ  -->
            <div id="comments"></div>
        </div>
    </div>

    <script>
        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰æ¤œç´¢ã‚¯ã‚¨ãƒªã‚’å–å¾—ã—ã¦è¡¨ç¤ºï¼ˆè„†å¼±ï¼‰
        function displaySearchResults() {
            const urlParams = new URLSearchParams(window.location.search);
            const query = urlParams.get('query');
            
            if (query) {
                // âŒ å±é™º: innerHTMLã§ãã®ã¾ã¾è¡¨ç¤º
                document.getElementById('results').innerHTML = 
                    `"${query}" ã®æ¤œç´¢çµæœ: è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ`;
            }
        }

        // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ›´æ–°ï¼ˆè„†å¼±ï¼‰
        function updateProfile() {
            const username = document.getElementById('username').value;
            const bio = document.getElementById('bio').value;
            
            // âŒ å±é™º: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ãã®ã¾ã¾innerHTMLã§è¡¨ç¤º
            document.getElementById('profile-display').innerHTML = `
                <h4>${username} ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</h4>
                <p>${bio}</p>
            `;
        }

        // ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ ï¼ˆè„†å¼±ï¼‰
        function addComment() {
            const comment = document.getElementById('comment').value;
            
            // âŒ å±é™º: å‹•çš„ã«HTMLã‚’æ§‹ç¯‰
            const commentDiv = document.createElement('div');
            commentDiv.className = 'comment';
            commentDiv.innerHTML = `
                <strong>åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼:</strong>
                <span>${comment}</span>
                <small>${new Date().toLocaleString()}</small>
            `;
            
            document.getElementById('comments').prepend(commentDiv);
            document.getElementById('comment').value = '';
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«æ¤œç´¢çµæœã‚’è¡¨ç¤º
        window.onload = displaySearchResults;
    </script>
</body>
</html>
